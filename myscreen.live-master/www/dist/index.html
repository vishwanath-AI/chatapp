<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>My screen, live!</title>
    <link rel="icon" type="image/png" href="favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="favicon-16x16.png" sizes="16x16" />
    <style type="text/css">
      button {
        border: 0;
        cursor: pointer;
      }

      .button-link {
        background-color: transparent;
        text-decoration: underline;
        font-size: 1rem;
        font-family: Open Sans,Arial;
        padding: 0;
      }
    </style>
  </head>
  <body style="margin: 0; font-family: Open Sans,Arial; background-color: #fefefe; color: #454545">
    
    <div id="home" style="display: flex; flex-flow: column nowrap; min-height: 100vh">
      
      <div style="padding: 2em; text-align: center; background: linear-gradient(180deg, #6a776a 80%, #fefefe); color: #dddddd">
        <div style="font-size: 2.5em; font-weight: bold; display: flex; flex-wrap: wrap; justify-content: center">
          <span>MY SCREEN,</span><span>&nbsp;</span><span>LIVE!</span>
        </div>
        <div style="padding-top: 0.5em">Open, free, P2P screen sharing</div>
      </div>
      
      <div style="padding: 1em; text-align: center; font-size: 1.3em">
        I want to...
        <div style="font-style: italic; color: gray; font-size: small">(only known to work with Firefox and Chrome currently)</div>
      </div>
      
      <div style="flex: 1; display: flex; flex-flow: column; align-items: center">
        
        <div style="padding: 0.75em; min-width: 40vw">
          <div style="font-size: 1.5em; font-weight: bold">Connect to another screen</div>
          <div style="margin: 0.4em">
            <input id="homePhrase" type="text" placeholder="(e.g. 25 angry astronauts floating aimlessly)" style="box-sizing: border-box; width: calc(100% - 0.5em); padding: 0.2em; font-size: 1.5em; border: 1px solid #ced4da; border-radius: .25rem;">
          </div>
          <div style="display: flex; justify-content: space-around; flex-wrap: wrap">
            <div style="margin-left: 0.4em; flex: 1; color: gray; white-space: nowrap">
              No direct link? Enter phrase above.
              <div id="homeConnectWarning" style="color: red; font-style: italic"></div>
            </div>
            <a id="homeConnect" href="#" style="margin: 0.4em; color: #454545; text-decoration: none; background-color: #acc6ef; padding: 0.6em 3em; font-weight: bold; font-size: 1.5em; border-radius: 0.25em">Connect</a>
          </div>
        </div>

        <div style="width: 20%; margin: 10px 40%; height: 10px; border-bottom: 1px solid lightgray; text-align: center">
            <span style="padding: 0 10px; background-color: #fefefe">or</span>
        </div>

        <div style="padding: 0.75em; min-width: 40vw">
          <div style="font-size: 1.5em; font-weight: bold">Share a view of my screen</div>
          <div style="display: flex; justify-content: space-around; flex-wrap: wrap">
            <div style="margin-left: 0.4em; flex: 1; color: gray; white-space: nowrap">
              No download needed, click and share away.
              <div id="homeShareWarning" style="color: red; font-style: italic"></div>
            </div>
            <a href="#host" style="margin: 0.4em; color: #454545; text-decoration: none; background-color: #acc6ef; padding: 0.6em 3em; font-weight: bold; font-size: 1.5em; border-radius: 0.25em">Start Sharing</a>
          </div>
        </div>

        <div style="width: 20%; margin: 10px 40%; height: 10px; border-bottom: 1px solid lightgray; text-align: center">
            <span style="padding: 0 10px; background-color: #fefefe">or</span>
        </div>

        <div style="padding: 0.75em; min-width: 40vw">
          <div style="font-size: 1.5em; font-weight: bold">Give control of my screen</div>
          <div style="display: flex; justify-content: space-around; flex-wrap: wrap">
            <div style="margin-left: 0.4em; margin-bottom: 3em; flex: 1; color: gray">
              <i>*This is not yet supported, coming soon. Will require a download.*</i>
            </div>
            <!--
            <div style="margin-left: 0.4em; flex: 1; color: gray">
              A simple tool must be downloaded.<br />Click the button for [OS], or <a href="#" style="color: #454545">see all downloads</a>.
            </div>
            <a href="#" style="margin: 0.4em; color: #454545; text-decoration: none; background-color: #acc6ef; padding: 0.6em 3em; font-weight: bold; font-size: 1.5em; border-radius: 0.25em">Download</a>
            -->
          </div>
        </div>
      </div>
      <div style="padding: 0.2em; background-color: #747a74; color: lightgray; display: flex; justify-content: space-evenly; flex-wrap: wrap">
        <div>
          <a href="." style="color: lightgray">myscreen.live</a> -
          made with indifference by <a href="https://github.com/cretz" style="color: lightgray">cretz</a>
        </div>
        <div>
          <a href="faq.html" style="padding: 0 0.2em; color: lightgray">FAQ</a> |
          <a href="https://github.com/cretz/myscreen.live" style="padding: 0 0.2em; color: lightgray">GitHub</a> |
          <a href="privacy.html" style="padding: 0 0.2em; color: lightgray">Privacy</a>
        </div>
      </div>
    </div>

    <div id="client" style="display: none; flex-flow: column nowrap; min-height: 100vh; min-width: 100%; float: left">
      <div style="display: flex; padding: 0.3em; text-align: center; background-color: #6a776a">
        <a href="." style="color: #dddddd; text-decoration: none; font-size: 2em; font-weight: bold">myscreen.live</a>
        <div style="margin-left: 1em; align-self: center;">
          <button id="clientSettingsButton" style="background-color: transparent; color: #dddddd">Settings &#9650;</button>
        </div>
      </div>
      <div id="clientSettings" style="display: flex; flex-flow: column; align-self: flex-start; background-color: #eee; border: 3px double">
        <div style="padding: 0.2em; min-width: 40vw">
          <div style="font-size: 2em; font-weight: bold; text-align: center">Screen Connect Settings</div>
          <div id="clientWarning" style="color: red; font-style: italic; text-align: center"></div>
        </div>
        <div style="padding: 1em; display: flex; flex-flow: column nowrap; min-width: 40vw">
          <div style="margin: 1em">
            <div style="display: flex">
              <label for="clientPhrase" style="font-weight: bold">Phrase:</label>
              <input id="clientPhrase" type="text" minlength="3" style="flex: 1; margin-left: 1em" required>
            </div>
            <div>
              <div style="margin-left: 0.4em; color: gray">
                Enter the connect phrase above.
              </div>
            </div>
          </div>
          <div style="margin: 1em">
            <div style="display: flex">
              <label for="clientPassword" style="font-weight: bold">Password:</label>
              <input id="clientPassword" type="password" style="flex: 1; margin-left: 1em">
            </div>
            <div>
              <div style="margin-left: 0.4em; color: gray">
                If given a password, enter it above.
              </div>
            </div>
          </div>
          <div style="margin: 1em 0; text-align: center">
            <button id="clientConnect" style="border: 0; color: #454545; text-decoration: none; background-color: #acc6ef; padding: 0.6em; font-weight: bold; font-size: 1.5em; border-radius: 0.25em">Connect</button>
          </div>
        </div>
      </div>
      <div id="clientErr" style="display: none; color: red; font-size: 1.5em; font-weight: bold; text-align: center"></div>
      <div id="clientConnecting" style="display: none; flex-flow: column; align-items: center; text-align: center">
        <h3>Connecting...</h3>
      </div>
      <video id="clientVideo" style="flex: 1; display: none; border: 2px solid red"></video>
    </div>

    <div id="host" style="display: none; flex-flow: column nowrap; min-height: 100vh">
      <div style="display: flex; padding: 0.3em; text-align: center; background-color: #6a776a">
        <a href="." style="color: #dddddd; text-decoration: none; font-size: 2em; font-weight: bold">myscreen.live</a>
        <div style="margin-left: 1em; align-self: center; color: #dddddd">
          Share Your Screen
        </div>
      </div>
      <div id="hostSettings" style="flex: 1; display: flex; flex-flow: column; align-items: center">
        <div style="padding: 0.2em; min-width: 40vw">
          <div style="font-size: 2em; font-weight: bold; text-align: center">Screen Share Settings</div>
        </div>
        <div id="hostErr" style="display: none; color: red; font-size: 1.5em; font-weight: bold; text-align: center"></div>
        <div id="hostWarning" style="color: red; font-style: italic"></div>
        <div style="padding: 1em; display: flex; flex-flow: column nowrap; min-width: 40vw">
          <div style="margin: 1em">
            <div style="display: flex">
              <label for="hostPhrase" style="font-weight: bold">Host Phrase:</label>
              <input id="hostPhrase" type="text" minlength="3" style="flex: 1; margin-left: 1em" required>
            </div>
            <div>
              <div style="margin-left: 0.4em; color: gray">
                Enter a unique phrase above, use the one we have generated for you, or 
                <button id="hostRegenerate" class="button-link" style="color: gray">regenerate</button>
                another.
                <br />
                Once shared, others will access your screen at <span id="hostPotentialUrl"></span>
              </div>
            </div>
          </div>
          <div style="margin: 1em">
            <div style="display: flex">
              <label for="hostPassword" style="font-weight: bold">Password:</label>
              <input id="hostPassword" type="password" style="flex: 1; margin-left: 1em">
            </div>
            <div>
              <div style="margin-left: 0.4em; color: gray">
                Optionally enter a password. Usually not needed for short screen share.
              </div>
            </div>
          </div>
          <div style="margin: 3em 0; text-align: center">
            <button id="hostChooseScreen" style="border: 0; color: #454545; text-decoration: none; background-color: #acc6ef; padding: 0.6em; font-weight: bold; font-size: 1.5em; border-radius: 0.25em">Choose Screen and Share</button>
          </div>
        </div>
      </div>
      <div id="hostWorking" style="display: none; flex-flow: column; align-items: center; text-align: center">
        <h3>Please wait while setting up screen capture...</h3>
      </div>
      <div id="hostSharing" style="display: none; flex-flow: column; align-items: center">
        <div style="padding: 0.2em; min-width: 40vw">
          <div style="font-size: 2em; font-weight: bold; text-align: center">Sharing Screen</div>
        </div>
        <div style="padding: 1em; display: flex">
          <div style="display: flex; flex-flow: column nowrap; min-width: 40vw">
            <div style="padding: 1em">
              <div style="font-size: 1.5em; font-weight: bold">URL for clients to connect to:</div>
              <div style="margin-left: 1em">
                <a id="hostShareUrl" style="font-size: 1.5em; font-weight: bold"></a>
                <br />
                <div style="color: gray">
                  # of connected clients: <span id="hostShareClientCount"></span>
                </div>
              </div>
            </div>
            <div style="display: flex; justify-content: space-evenly">
              <button id="hostSharePause" href="#" style="border: 0; color: #454545; text-decoration: none; background-color: #acc6ef; padding: 0.6em; font-weight: bold; font-size: 1.5em; border-radius: 0.25em">Pause Video</button>
              <button id="hostShareStop" href="#" style="border: 0; color: #454545; text-decoration: none; background-color: #acc6ef; padding: 0.6em; font-weight: bold; font-size: 1.5em; border-radius: 0.25em">Stop Sharing</button>
            </div>
          </div>
          <div style="display: flex; flex-flow: column nowrap; align-items: center">
            <h4>Your screen</h4>
            <video id="hostShareVideo" style="width: 40vw"></video>
          </div>
        </div>
      </div>
    </div>
    <script src="index.js"></script>
  </body>
</html>